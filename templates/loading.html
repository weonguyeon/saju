<!DOCTYPE html>
<html class="dark" lang="ko">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>분석 중... | 별하</title>
    <link href="{{ url_for('static', filename='style.css') }}" rel="stylesheet" />
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap"
        rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    backgroundImage: {
                        'stardust': "url('https://placeholder.pics/svg/300/transparent/transparent?text=Stardust%20Pattern'), radial-gradient(circle at 50% 0%, #2a2a4a 0%, #0a0a12 60%)",
                    }
                },
            },
        }
    </script>
</head>

<body class="bg-stardust-effect text-white flex items-center justify-center min-h-screen">

    <div class="glass-card text-center p-12 rounded-3xl max-w-md w-full mx-4 fade-in">
        <div class="relative w-24 h-24 mx-auto mb-8">
            <div
                class="absolute inset-0 border-4 border-t-purple-500 border-r-transparent border-b-blue-500 border-l-transparent rounded-full animate-spin">
            </div>
            <div class="absolute inset-0 flex items-center justify-center">
                <span class="material-symbols-outlined text-4xl text-white animate-pulse">auto_awesome</span>
            </div>
        </div>

        <h2 class="text-2xl font-bold mb-2">운명을 분석하고 있습니다</h2>
        <p class="text-gray-400 text-sm mb-8">잠시만 기다려주세요, 별들이 당신의 이야기를 읽고 있습니다.<br>(최대 1~2분 소요될 수 있습니다)</p>

        <!-- Hidden Form to Auto Submit -->
        <form id="hiddenForm" action="/result" method="POST">
            {% for key, value in data.items() %}
            <input type="hidden" name="{{ key }}" value="{{ value }}">
            {% endfor %}
        </form>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const form = document.getElementById('hiddenForm');
            // Give a small delay for the animation to be seen, then submit
            setTimeout(() => {
                form.submit();
            }, 1500);
        });
    </script>

</body>

</html>